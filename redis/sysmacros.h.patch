--- a/inc/bits/sysmacros.h	2017-08-08 17:38:49.568099922 +0100
+++ b/inc/bits/sysmacros.h	2017-03-06 14:06:08.000000000 +0000
@@ -41,7 +41,7 @@
   {								\
     unsigned int __major;					\
     __major  = ((__dev & (__dev_t) 0x00000000000fff00u) >>  8); \
-    __major |= ((__dev & (__dev_t) 0xfffff00000000000u) >> 32); \
+    __major |= ((__dev & (__dev_t) 0x0ffff00000000000u) >> 32); \
     return __major;						\
   }
 
